---
phase: 11-ui-ux-overhaul
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/lib/motion/constants.ts
  - app/lib/motion/variants.ts
  - app/components/motion/fade-in.tsx
  - app/components/motion/slide-in.tsx
  - app/components/motion/stagger-container.tsx
  - app/components/motion/page-wrapper.tsx
autonomous: true

must_haves:
  truths:
    - "Motion constants are imported and used by UI components"
    - "Animation variants produce consistent timing across app"
    - "Motion components respect prefers-reduced-motion setting"
  artifacts:
    - path: "app/lib/motion/constants.ts"
      provides: "Duration and easing constants"
      exports: ["DURATION", "EASE"]
    - path: "app/lib/motion/variants.ts"
      provides: "Reusable Framer Motion variants"
      exports: ["fadeInUp", "scaleIn", "staggerChildren", "slideInLeft", "slideInRight"]
    - path: "app/components/motion/fade-in.tsx"
      provides: "Reusable fade-in animation wrapper"
      exports: ["FadeIn"]
    - path: "app/components/motion/page-wrapper.tsx"
      provides: "Page-level animation wrapper with reduced motion support"
      exports: ["PageWrapper"]
  key_links:
    - from: "app/lib/motion/variants.ts"
      to: "app/lib/motion/constants.ts"
      via: "imports DURATION and EASE constants"
      pattern: "import.*from.*constants"
    - from: "app/components/motion/fade-in.tsx"
      to: "app/lib/motion/variants.ts"
      via: "imports fadeInUp variant"
      pattern: "import.*from.*variants"
---

<objective>
Create a centralized motion system with reusable animation constants, variants, and components.

Purpose: Establish consistent micro-interactions across the application by defining timing, easing, and animation patterns in one place. This enables uniform feel throughout the UI overhaul.

Output: Motion library (`lib/motion/`) and reusable motion components (`components/motion/`) that subsequent plans will use.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-ui-ux-overhaul/11-RESEARCH.md

# Research findings guide implementation:
# - DURATION.fast (0.15s) for micro-interactions
# - DURATION.normal (0.2s) for standard transitions
# - EASE.out for entrances, EASE.in for exits
# - useReducedMotion for accessibility
# - Framer Motion already installed (^12.23.24)

@app/components/ui/toast.tsx
# Toast already uses Framer Motion - reference for patterns
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create motion constants</name>
  <files>app/lib/motion/constants.ts</files>
  <action>
Create motion timing and easing constants based on research findings.

```typescript
// lib/motion/constants.ts
export const DURATION = {
  instant: 0.1,
  fast: 0.15,
  normal: 0.2,
  slow: 0.3,
  page: 0.4
} as const;

export const EASE = {
  out: [0.16, 1, 0.3, 1] as const,      // Quick start, slow end (entrances)
  in: [0.4, 0, 1, 1] as const,          // Slow start, quick end (exits)
  inOut: [0.4, 0, 0.2, 1] as const      // Symmetric (state changes)
} as const;
```

Export types for TypeScript consumers.
  </action>
  <verify>TypeScript compiles without errors: `cd app && npx tsc --noEmit`</verify>
  <done>constants.ts exports DURATION and EASE objects with correct values</done>
</task>

<task type="auto">
  <name>Task 2: Create motion variants</name>
  <files>app/lib/motion/variants.ts</files>
  <action>
Create reusable Framer Motion variants using constants.

```typescript
// lib/motion/variants.ts
import { type Variants } from 'framer-motion';
import { DURATION, EASE } from './constants';

export const fadeInUp: Variants = {
  initial: { opacity: 0, y: 20 },
  animate: {
    opacity: 1,
    y: 0,
    transition: { duration: DURATION.normal, ease: EASE.out }
  },
  exit: {
    opacity: 0,
    y: 20,
    transition: { duration: DURATION.fast, ease: EASE.in }
  }
};

export const scaleIn: Variants = {
  initial: { opacity: 0, scale: 0.95 },
  animate: {
    opacity: 1,
    scale: 1,
    transition: { duration: DURATION.fast, ease: EASE.out }
  },
  exit: {
    opacity: 0,
    scale: 0.95,
    transition: { duration: DURATION.fast, ease: EASE.in }
  }
};

export const slideInLeft: Variants = {
  initial: { opacity: 0, x: -20 },
  animate: {
    opacity: 1,
    x: 0,
    transition: { duration: DURATION.normal, ease: EASE.out }
  },
  exit: {
    opacity: 0,
    x: -20,
    transition: { duration: DURATION.fast, ease: EASE.in }
  }
};

export const slideInRight: Variants = {
  initial: { opacity: 0, x: 20 },
  animate: {
    opacity: 1,
    x: 0,
    transition: { duration: DURATION.normal, ease: EASE.out }
  },
  exit: {
    opacity: 0,
    x: 20,
    transition: { duration: DURATION.fast, ease: EASE.in }
  }
};

export const staggerChildren: Variants = {
  animate: {
    transition: {
      staggerChildren: 0.05,
      delayChildren: 0.1
    }
  }
};
```

Type with Framer Motion's Variants type for IDE support.
  </action>
  <verify>TypeScript compiles: `cd app && npx tsc --noEmit`</verify>
  <done>variants.ts exports all 5 variants with proper typing</done>
</task>

<task type="auto">
  <name>Task 3: Create reusable motion components</name>
  <files>app/components/motion/fade-in.tsx, app/components/motion/slide-in.tsx, app/components/motion/stagger-container.tsx, app/components/motion/page-wrapper.tsx</files>
  <action>
Create 4 motion wrapper components that respect prefers-reduced-motion.

**FadeIn component (fade-in.tsx):**
```typescript
'use client';

import { motion, useReducedMotion } from 'framer-motion';
import { type ReactNode } from 'react';
import { fadeInUp } from '@/lib/motion/variants';

interface FadeInProps {
  children: ReactNode;
  className?: string;
  delay?: number;
}

export function FadeIn({ children, className, delay = 0 }: FadeInProps) {
  const shouldReduceMotion = useReducedMotion();

  return (
    <motion.div
      variants={fadeInUp}
      initial={shouldReduceMotion ? false : 'initial'}
      animate="animate"
      exit={shouldReduceMotion ? undefined : 'exit'}
      transition={{ delay }}
      className={className}
    >
      {children}
    </motion.div>
  );
}
```

**SlideIn component (slide-in.tsx):**
```typescript
'use client';

import { motion, useReducedMotion } from 'framer-motion';
import { type ReactNode } from 'react';
import { slideInLeft, slideInRight } from '@/lib/motion/variants';

interface SlideInProps {
  children: ReactNode;
  className?: string;
  direction?: 'left' | 'right';
  delay?: number;
}

export function SlideIn({
  children,
  className,
  direction = 'left',
  delay = 0
}: SlideInProps) {
  const shouldReduceMotion = useReducedMotion();
  const variants = direction === 'left' ? slideInLeft : slideInRight;

  return (
    <motion.div
      variants={variants}
      initial={shouldReduceMotion ? false : 'initial'}
      animate="animate"
      exit={shouldReduceMotion ? undefined : 'exit'}
      transition={{ delay }}
      className={className}
    >
      {children}
    </motion.div>
  );
}
```

**StaggerContainer component (stagger-container.tsx):**
```typescript
'use client';

import { motion, useReducedMotion } from 'framer-motion';
import { type ReactNode } from 'react';
import { staggerChildren } from '@/lib/motion/variants';

interface StaggerContainerProps {
  children: ReactNode;
  className?: string;
}

export function StaggerContainer({ children, className }: StaggerContainerProps) {
  const shouldReduceMotion = useReducedMotion();

  return (
    <motion.div
      variants={shouldReduceMotion ? {} : staggerChildren}
      initial="initial"
      animate="animate"
      className={className}
    >
      {children}
    </motion.div>
  );
}
```

**PageWrapper component (page-wrapper.tsx):**
```typescript
'use client';

import { motion, useReducedMotion } from 'framer-motion';
import { type ReactNode } from 'react';
import { DURATION, EASE } from '@/lib/motion/constants';

interface PageWrapperProps {
  children: ReactNode;
  className?: string;
}

const pageVariants = {
  initial: { opacity: 0, y: 20 },
  animate: {
    opacity: 1,
    y: 0,
    transition: { duration: DURATION.page, ease: EASE.out }
  }
};

export function PageWrapper({ children, className }: PageWrapperProps) {
  const shouldReduceMotion = useReducedMotion();

  return (
    <motion.div
      variants={pageVariants}
      initial={shouldReduceMotion ? false : 'initial'}
      animate="animate"
      className={className}
    >
      {children}
    </motion.div>
  );
}
```

Create directory structure: mkdir -p app/components/motion before writing files.
  </action>
  <verify>
All files compile: `cd app && npx tsc --noEmit`
Imports work: Create a test file that imports all components
  </verify>
  <done>All 4 motion components created with useReducedMotion support</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd app && npx tsc --noEmit` passes
- [ ] All 6 files exist and export correctly
- [ ] Motion components use constants and variants (no magic numbers)
- [ ] All motion components check useReducedMotion
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- Motion system ready for use by subsequent plans
</success_criteria>

<output>
After completion, create `.planning/phases/11-ui-ux-overhaul/11-01-SUMMARY.md`
</output>
