---
phase: 11-ui-ux-overhaul
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - app/components/ui/button.tsx
  - app/components/ui/card.tsx
  - app/components/ui/dialog.tsx
  - app/components/ui/input.tsx
  - app/components/ui/textarea.tsx
autonomous: true

must_haves:
  truths:
    - "Buttons have subtle scale animation on hover and tap"
    - "Cards have smooth hover elevation change"
    - "Dialogs animate in and out smoothly"
    - "All micro-interactions respect prefers-reduced-motion"
  artifacts:
    - path: "app/components/ui/button.tsx"
      provides: "Button with motion variants"
      exports: ["Button"]
    - path: "app/components/ui/card.tsx"
      provides: "Card with hover animation"
      exports: ["Card"]
    - path: "app/components/ui/dialog.tsx"
      provides: "Dialog with AnimatePresence"
      exports: ["Dialog", "DialogContent", "DialogTrigger", "DialogTitle", "DialogDescription", "DialogClose"]
  key_links:
    - from: "app/components/ui/button.tsx"
      to: "framer-motion"
      via: "motion.button and useReducedMotion"
      pattern: "import.*from.*framer-motion"
    - from: "app/components/ui/dialog.tsx"
      to: "framer-motion"
      via: "AnimatePresence for exit animations"
      pattern: "AnimatePresence"
---

<objective>
Add micro-interactions to core UI primitives (Button, Card, Dialog, Input, Textarea).

Purpose: Create polished, tactile feel for interactive elements. Research shows purposeful micro-interactions (150-200ms) improve perceived quality without being distracting.

Output: Enhanced UI components with Framer Motion micro-interactions that respect accessibility preferences.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-ui-ux-overhaul/11-RESEARCH.md

# Existing components to enhance:
@app/components/ui/button.tsx
@app/components/ui/card.tsx
@app/components/ui/dialog.tsx
@app/components/ui/input.tsx
@app/components/ui/textarea.tsx

# Reference for motion patterns (toast already uses Framer Motion):
@app/components/ui/toast.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add motion to Button component</name>
  <files>app/components/ui/button.tsx</files>
  <action>
Enhance Button with subtle scale animation on hover/tap.

Replace the static button with motion.button:
- Import `motion` and `useReducedMotion` from 'framer-motion'
- Create buttonVariants for rest/hover/tap states
- Use motion.button with whileHover and whileTap
- When shouldReduceMotion is true, skip motion props (fallback to CSS transitions)
- Preserve ALL existing functionality (variants, sizes, isLoading, asChild, etc.)
- Keep the existing CSS `active:scale-[0.98]` as fallback for non-motion

Motion variants to add:
```typescript
const motionVariants = {
  rest: { scale: 1 },
  hover: { scale: 1.02 },
  tap: { scale: 0.98 }
};
```

IMPORTANT: Keep asChild functionality working. When asChild=true, don't use motion.button.
IMPORTANT: Transition duration should be 0.15s (fast).
  </action>
  <verify>
Button renders: `cd app && npm run build` succeeds
Visual: Button scales slightly on hover, compresses on click
  </verify>
  <done>Button has smooth scale micro-interaction, respects reduced motion preference</done>
</task>

<task type="auto">
  <name>Task 2: Add motion to Card component</name>
  <files>app/components/ui/card.tsx</files>
  <action>
Read the existing card.tsx first. Enhance Card with hover elevation animation.

- Import `motion` and `useReducedMotion` from 'framer-motion'
- Add subtle y-translation and shadow increase on hover
- Use CSS variable for shadow to maintain theme consistency
- If card is interactive (has onClick or is inside Link), add motion
- For non-interactive cards, keep static (just styling)

Motion effect:
```typescript
const cardHoverVariants = {
  rest: { y: 0 },
  hover: { y: -2, transition: { duration: 0.2 } }
};
```

Also add shadow transition via Tailwind: `hover:shadow-lg transition-shadow`

IMPORTANT: Card should work with forwardRef pattern if it exists.
IMPORTANT: Keep all existing className passthrough working.
  </action>
  <verify>
Card compiles: `cd app && npm run build`
Visual: Cards lift slightly on hover with shadow increase
  </verify>
  <done>Card has smooth hover elevation effect</done>
</task>

<task type="auto">
  <name>Task 3: Add AnimatePresence to Dialog</name>
  <files>app/components/ui/dialog.tsx</files>
  <action>
Read the existing dialog.tsx first. Enhance Dialog with enter/exit animations.

- Import `motion`, `AnimatePresence`, and `useReducedMotion` from 'framer-motion'
- Wrap DialogContent with AnimatePresence
- Add overlay fade animation (opacity 0 → 1)
- Add content scale animation (scale 0.95 → 1, opacity 0 → 1)
- Handle controlled open state properly with AnimatePresence

Follow the pattern from research:
```typescript
<Dialog.Portal forceMount>
  <AnimatePresence>
    {open && (
      <>
        <Dialog.Overlay asChild>
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            transition={{ duration: 0.15 }}
            className="fixed inset-0 bg-black/50"
          />
        </Dialog.Overlay>
        <Dialog.Content asChild>
          <motion.div
            initial={{ opacity: 0, scale: 0.95 }}
            animate={{ opacity: 1, scale: 1 }}
            exit={{ opacity: 0, scale: 0.95 }}
            transition={{ duration: 0.15 }}
            className="..."
          >
            {children}
          </motion.div>
        </Dialog.Content>
      </>
    )}
  </AnimatePresence>
</Dialog.Portal>
```

IMPORTANT: This is complex - Dialog uses Radix compound component pattern.
IMPORTANT: May need to refactor DialogContent to accept open prop for AnimatePresence.
IMPORTANT: Test that dialog still opens/closes correctly after changes.
  </action>
  <verify>
Dialog compiles: `cd app && npm run build`
Functional: Dialog opens with fade-in, closes with fade-out
  </verify>
  <done>Dialog has smooth enter/exit animations</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd app && npm run build` succeeds
- [ ] `cd app && npx tsc --noEmit` passes
- [ ] Button scales on interaction
- [ ] Card elevates on hover
- [ ] Dialog animates on open/close
- [ ] All components still function correctly (no regressions)
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No build errors or TypeScript errors
- Micro-interactions are subtle and professional (not distracting)
- Components respect prefers-reduced-motion
</success_criteria>

<output>
After completion, create `.planning/phases/11-ui-ux-overhaul/11-02-SUMMARY.md`
</output>
