---
phase: 11-ui-ux-overhaul
plan: 04
type: execute
wave: 2
depends_on: ["11-01", "11-02"]
files_modified:
  - app/app/(protected)/dashboard/page.tsx
  - app/app/(protected)/settings/page.tsx
  - app/app/(protected)/templates/page.tsx
  - app/app/(protected)/billing/page.tsx
  - app/app/(protected)/productivity/page.tsx
  - app/app/(protected)/macros/page.tsx
  - app/components/layout/sidebar.tsx
autonomous: false

must_haves:
  truths:
    - "Dashboard page content fades in smoothly on load"
    - "Quick action cards have staggered entrance animation"
    - "Sidebar navigation items have hover animations"
    - "All protected pages have consistent page header styling"
  artifacts:
    - path: "app/app/(protected)/dashboard/page.tsx"
      provides: "Polished dashboard with motion"
      contains: "PageWrapper\\|FadeIn\\|StaggerContainer"
    - path: "app/components/layout/sidebar.tsx"
      provides: "Enhanced sidebar with motion"
      contains: "motion\\|hover"
  key_links:
    - from: "app/app/(protected)/dashboard/page.tsx"
      to: "app/components/motion/"
      via: "imports motion components"
      pattern: "import.*from.*@/components/motion"
---

<objective>
Apply visual polish and motion to protected pages: dashboard, settings, templates, billing, productivity, macros, and the sidebar.

Purpose: Consistent, professional feel across the main application interface. The dashboard is the primary working area - it should feel polished and responsive.

Output: All 6 protected pages and sidebar with page transitions, consistent headers, card animations, and refined interactions.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-ui-ux-overhaul/11-RESEARCH.md

# Motion system from Plan 01:
@app/lib/motion/constants.ts
@app/lib/motion/variants.ts
@app/components/motion/fade-in.tsx
@app/components/motion/page-wrapper.tsx
@app/components/motion/stagger-container.tsx

# Enhanced components from Plan 02:
@app/components/ui/button.tsx
@app/components/ui/card.tsx

# Pages to polish:
@app/app/(protected)/dashboard/page.tsx
@app/components/layout/sidebar.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Polish dashboard page</name>
  <files>app/app/(protected)/dashboard/page.tsx</files>
  <action>
Read the existing dashboard page. Apply visual polish:

1. Wrap entire page content with PageWrapper for fade-in
2. Use StaggerContainer for the Quick Actions grid
3. Each quick action card should be wrapped in FadeIn
4. Usage stats section should fade in
5. Refine header typography: larger heading, better spacing

Structure:
```tsx
<PageWrapper className="p-8">
  <div className="mx-auto max-w-5xl">
    <FadeIn>
      <header className="mb-8">
        <h1 className="text-3xl font-bold tracking-tight">Dashboard</h1>
        <p className="mt-2 text-text-secondary">...</p>
      </header>
    </FadeIn>

    {/* YOLO Mode section */}
    <FadeIn delay={0.1}>
      <section className="mb-8">...</section>
    </FadeIn>

    {/* Quick Actions with staggered cards */}
    <section className="mb-8">
      <FadeIn delay={0.2}>
        <h2 className="mb-4 text-xl font-semibold">Quick Actions</h2>
      </FadeIn>
      <StaggerContainer className="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
        <FadeIn><Link href="/transcribe">...</Link></FadeIn>
        <FadeIn><Link href="/generate">...</Link></FadeIn>
        <FadeIn><Link href="/templates">...</Link></FadeIn>
      </StaggerContainer>
    </section>

    {/* Stats section */}
    <FadeIn delay={0.3}>
      <section className="grid gap-6 lg:grid-cols-2">...</section>
    </FadeIn>
  </div>
</PageWrapper>
```

IMPORTANT: Preserve ALL existing functionality (YOLO mode, usage stats, links).
  </action>
  <verify>
Build succeeds: `cd app && npm run build`
Dashboard loads with staggered animations
  </verify>
  <done>Dashboard has polished layout with staggered card animations</done>
</task>

<task type="auto">
  <name>Task 2: Enhance sidebar with motion</name>
  <files>app/components/layout/sidebar.tsx</files>
  <action>
Read the existing sidebar. Add subtle motion enhancements:

1. Import motion from 'framer-motion'
2. Add hover animation to nav items (slight scale or background transition)
3. Animate the mobile menu slide-in more smoothly (it already has transition-transform)
4. Add subtle hover effect to user menu button
5. Animate dropdown menu entrance

For nav items hover:
- Use CSS transition for background (already have hover:bg-surface-muted)
- Keep it subtle - don't make nav items bounce

For mobile menu:
- Keep existing slide transition
- Add backdrop blur to overlay: `backdrop-blur-sm`

For user dropdown:
- Wrap in AnimatePresence
- Add fade + slide animation:
```tsx
{isUserMenuOpen && (
  <motion.div
    initial={{ opacity: 0, y: 10 }}
    animate={{ opacity: 1, y: 0 }}
    exit={{ opacity: 0, y: 10 }}
    transition={{ duration: 0.15 }}
    className="absolute bottom-full ..."
  >
    ...
  </motion.div>
)}
```

IMPORTANT: Keep all existing functionality (menu toggle, route changes, sign out).
IMPORTANT: Mobile menu already has transition - enhance, don't break it.
  </action>
  <verify>
Build succeeds: `cd app && npm run build`
User dropdown animates smoothly
  </verify>
  <done>Sidebar has subtle motion enhancements</done>
</task>

<task type="auto">
  <name>Task 3: Polish remaining protected pages</name>
  <files>app/app/(protected)/settings/page.tsx, app/app/(protected)/templates/page.tsx, app/app/(protected)/billing/page.tsx, app/app/(protected)/productivity/page.tsx, app/app/(protected)/macros/page.tsx</files>
  <action>
Apply consistent motion pattern to all remaining protected pages.

For each page:
1. Wrap content with PageWrapper
2. Wrap page header in FadeIn
3. Wrap main content sections in FadeIn with increasing delays
4. If page has a list/grid, use StaggerContainer

Pattern for each page:
```tsx
<PageWrapper className="p-8">
  <div className="mx-auto max-w-5xl">
    <FadeIn>
      <header className="mb-8">
        <h1 className="text-3xl font-bold tracking-tight">[Page Title]</h1>
        <p className="mt-2 text-text-secondary">[Subtitle]</p>
      </header>
    </FadeIn>

    <FadeIn delay={0.1}>
      {/* Main content */}
    </FadeIn>
  </div>
</PageWrapper>
```

**settings/page.tsx:**
- Profile form, preferences sections
- Each section in FadeIn with delay

**templates/page.tsx:**
- Template list/grid
- Use StaggerContainer for template cards

**billing/page.tsx:**
- Plan info, upgrade options
- Cards should stagger in

**productivity/page.tsx:**
- Stats and charts
- Each stat card in FadeIn

**macros/page.tsx:**
- Macro list
- Use StaggerContainer for macro items

IMPORTANT: Do NOT change page functionality - only wrap with motion components.
  </action>
  <verify>
Build succeeds: `cd app && npm run build`
All 5 pages load with fade-in animations
  </verify>
  <done>All protected pages have consistent motion and styling</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Polished dashboard, sidebar, and all protected pages with consistent motion</what-built>
  <how-to-verify>
    1. Run: `cd app && npm run dev`
    2. Login and navigate to Dashboard
       - Page should fade in smoothly
       - Quick action cards should stagger in
       - YOLO mode toggle should still work
    3. Check sidebar:
       - User menu dropdown should animate
       - Nav items should have subtle hover effect
    4. Navigate to each protected page:
       - /settings - content fades in
       - /templates - template cards stagger in
       - /billing - subscription info animates in
       - /productivity - stats animate in
       - /macros - macro list animates in
    5. Test on mobile (resize to ~375px):
       - Hamburger menu should slide in smoothly
       - Pages should remain functional
    6. Verify dark mode (if available):
       - All pages readable, no contrast issues
  </how-to-verify>
  <resume-signal>Type "approved" if protected pages look polished and work correctly, or describe issues</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd app && npm run build` succeeds
- [ ] All protected pages render without errors
- [ ] Navigation between pages works correctly
- [ ] YOLO mode toggle still functions
- [ ] Human verification passed
</verification>

<success_criteria>

- All tasks completed
- Human approved visual design
- No functional regressions
- Consistent motion across all protected pages
</success_criteria>

<output>
After completion, create `.planning/phases/11-ui-ux-overhaul/11-04-SUMMARY.md`
</output>
